<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClearPen — AI Text Detector</title>
    <meta name="description" content="Check your writing for AI patterns before anyone else does. Get instant feedback and specific fixes. Free, private, no signup.">
    <!-- Cache bust: v2.0 - Fixed pricing modal button -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,400;0,9..144,600;0,9..144,700;0,9..144,800;1,9..144,400&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        serif: ['Fraunces', 'Georgia', 'serif'],
                        sans: ['DM Sans', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        charcoal: { 900: '#121212', 800: '#1a1a1a', 700: '#2d2d2d', 600: '#3d3d3d' },
                        cream: { 50: '#fefcf8', 100: '#faf6ee', 200: '#f5edd8' },
                        amber: { 500: '#d4a017', 600: '#c8952e', 700: '#a67b1e' },
                        forest: { 600: '#2d5016', 700: '#1f3a0f' },
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'DM Sans', system-ui, sans-serif; }
        h1, h2, h3, .font-serif { font-family: 'Fraunces', Georgia, serif; }

        /* Grain texture overlay */
        .grain::after {
            content: '';
            position: absolute;
            inset: 0;
            opacity: 0.4;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.5'/%3E%3C/svg%3E");
            background-repeat: repeat;
            background-size: 256px 256px;
            pointer-events: none;
            z-index: 1;
        }
        .grain > * { position: relative; z-index: 2; }

        /* Subtle horizontal rule pattern */
        .ruled-bg {
            background-image: repeating-linear-gradient(
                0deg, transparent, transparent 39px, rgba(0,0,0,0.03) 39px, rgba(0,0,0,0.03) 40px
            );
        }

        /* Link underline animation */
        .link-underline {
            background-image: linear-gradient(#d4a017, #d4a017);
            background-size: 0% 2px;
            background-position: left bottom;
            background-repeat: no-repeat;
            transition: background-size 0.3s ease;
        }
        .link-underline:hover { background-size: 100% 2px; }
    </style>
</head>
<body class="bg-cream-50 text-charcoal-800 antialiased">
    
    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 bg-cream-50/90 backdrop-blur-sm border-b border-charcoal-800/5">
        <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
            <div class="font-serif text-xl font-700 tracking-tight text-charcoal-900">ClearPen</div>
            <a href="#tool" class="px-5 py-2 bg-charcoal-900 text-cream-50 text-sm font-600 rounded hover:bg-charcoal-700 transition-colors">
                Try Free
            </a>
        </div>
    </nav>

    <!-- Hero -->
    <section class="relative pt-32 pb-20 px-6 grain bg-charcoal-900 overflow-hidden">
        <div class="max-w-6xl mx-auto">
            <div class="max-w-3xl">
                <p class="text-amber-500 font-600 text-sm tracking-widest uppercase mb-6">Free AI Text Detector</p>
                <h1 class="font-serif text-5xl md:text-7xl font-800 text-cream-50 leading-[1.05] mb-8">
                    Your writing<br>shouldn't sound<br>like a <em class="text-amber-500 italic">robot</em> wrote it.
                </h1>
                <p class="text-lg text-cream-200/70 max-w-xl leading-relaxed mb-10">
                    Paste any text. See exactly which phrases trigger AI detectors. Get specific fixes. Runs in your browser — we never see your words.
                </p>
                <a href="#tool" class="inline-block px-8 py-4 bg-amber-500 text-charcoal-900 font-700 rounded hover:bg-amber-600 transition-colors text-lg">
                    Analyze Your Text &darr;
                </a>
            </div>
        </div>
        <!-- Diagonal slice -->
        <div class="absolute bottom-0 left-0 right-0 h-16 bg-cream-50" style="clip-path: polygon(0 100%, 100% 0, 100% 100%)"></div>
    </section>

    <!-- Problem / Why it matters -->
    <section class="py-24 px-6 ruled-bg">
        <div class="max-w-6xl mx-auto">
            <div class="grid md:grid-cols-12 gap-12 items-start">
                <div class="md:col-span-5">
                    <p class="text-amber-600 font-600 text-sm tracking-widest uppercase mb-4">The Problem</p>
                    <h2 class="font-serif text-3xl md:text-4xl font-700 text-charcoal-900 leading-tight">
                        AI detectors are everywhere. One wrong phrase flags your entire piece.
                    </h2>
                </div>
                <div class="md:col-span-7 space-y-6">
                    <div class="border-l-2 border-amber-500 pl-6 py-2">
                        <h3 class="font-600 text-charcoal-900 mb-1">Students</h3>
                        <p class="text-charcoal-600 leading-relaxed">Professors flag assignments that read like ChatGPT. Even if you wrote it yourself, the wrong phrasing can hurt your grade.</p>
                    </div>
                    <div class="border-l-2 border-amber-500 pl-6 py-2">
                        <h3 class="font-600 text-charcoal-900 mb-1">Content Writers</h3>
                        <p class="text-charcoal-600 leading-relaxed">Search engines downrank AI content. Clients reject work that sounds robotic. Your reputation is on the line.</p>
                    </div>
                    <div class="border-l-2 border-amber-500 pl-6 py-2">
                        <h3 class="font-600 text-charcoal-900 mb-1">Professionals</h3>
                        <p class="text-charcoal-600 leading-relaxed">Emails, reports, and proposals that trigger AI detectors undermine your credibility.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tool Section -->
    <section id="tool" class="py-24 px-6 bg-charcoal-900 grain">
        <div class="max-w-4xl mx-auto">
            <p class="text-amber-500 font-600 text-sm tracking-widest uppercase mb-4 text-center">The Tool</p>
            <h2 class="font-serif text-3xl md:text-4xl font-700 text-cream-50 text-center mb-3">Analyze your text</h2>
            <p class="text-center text-cream-200/60 mb-10">Paste your writing below. Results in under 2 seconds.</p>
            
            <div class="bg-charcoal-700 border border-charcoal-600 rounded overflow-hidden mb-6">
                <textarea 
                    id="input"
                    placeholder="Paste your text here..."
                    class="w-full h-64 bg-transparent px-6 py-5 text-cream-100 placeholder-cream-200/30 resize-none focus:outline-none"
                ></textarea>
                <div class="flex items-center justify-between px-6 py-4 bg-charcoal-800 border-t border-charcoal-600">
                    <span class="text-sm text-cream-200/50" id="wordCount">0 words</span>
                    <button 
                        onclick="analyze()"
                        id="analyzeBtn"
                        class="px-6 py-2.5 bg-amber-500 text-charcoal-900 rounded text-sm font-700 hover:bg-amber-600 transition-colors"
                    >
                        Analyze Text
                    </button>
                </div>
            </div>

            <!-- Results -->
            <div id="results" class="hidden mt-8 space-y-6">
                <div class="bg-charcoal-700 border border-charcoal-600 rounded p-8 text-center">
                    <div class="text-sm text-cream-200/60 mb-2 font-500">AI Detection Score</div>
                    <div id="scoreBadge" class="text-4xl font-serif font-700 mb-4">—</div>
                    <div class="max-w-md mx-auto h-2 bg-charcoal-600 rounded-full overflow-hidden mb-3">
                        <div id="meterFill" class="h-full rounded-full transition-all duration-700"></div>
                    </div>
                    <p id="issueCount" class="text-sm text-cream-200/60"></p>
                </div>

                <div id="details" class="space-y-4"></div>

                <div id="tipsSection" class="bg-charcoal-700 border border-charcoal-600 rounded p-8">
                    <h3 class="text-lg font-serif font-700 mb-4 text-cream-50">How to fix it</h3>
                    <div id="tips" class="space-y-3"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features — staggered, not 3-box grid -->
    <section class="py-24 px-6">
        <div class="max-w-6xl mx-auto">
            <p class="text-amber-600 font-600 text-sm tracking-widest uppercase mb-4">Why ClearPen</p>
            <h2 class="font-serif text-3xl md:text-4xl font-700 text-charcoal-900 mb-16 max-w-lg">Built different from every other detector.</h2>
            
            <div class="grid md:grid-cols-2 gap-x-16 gap-y-12">
                <div>
                    <div class="text-amber-500 font-serif text-5xl font-800 mb-3">16</div>
                    <h3 class="font-600 text-charcoal-900 text-lg mb-2">Pattern Categories</h3>
                    <p class="text-charcoal-600 leading-relaxed">Promotional language, AI vocabulary, filler phrases, chatbot artifacts, hedging, and 11 more categories most tools miss.</p>
                </div>
                <div>
                    <div class="text-amber-500 font-serif text-5xl font-800 mb-3">&lt;2s</div>
                    <h3 class="font-600 text-charcoal-900 text-lg mb-2">Instant Results</h3>
                    <p class="text-charcoal-600 leading-relaxed">Paste your text, get a full breakdown. No waiting, no queues, no spinners.</p>
                </div>
                <div>
                    <div class="text-amber-500 font-serif text-5xl font-800 mb-3">0</div>
                    <h3 class="font-600 text-charcoal-900 text-lg mb-2">Data Stored</h3>
                    <p class="text-charcoal-600 leading-relaxed">Everything runs in your browser. Your text never leaves your machine. We never see it.</p>
                </div>
                <div>
                    <div class="text-amber-500 font-serif text-5xl font-800 mb-3">&infin;</div>
                    <h3 class="font-600 text-charcoal-900 text-lg mb-2">Unlimited Checks</h3>
                    <p class="text-charcoal-600 leading-relaxed">No account, no credit card, no trial period. Check as many documents as you want.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- How it works -->
    <section class="py-24 px-6 bg-cream-100 border-y border-charcoal-800/5">
        <div class="max-w-4xl mx-auto">
            <p class="text-amber-600 font-600 text-sm tracking-widest uppercase mb-4">How It Works</p>
            <h2 class="font-serif text-3xl md:text-4xl font-700 text-charcoal-900 mb-16">Three steps. No signup.</h2>
            
            <div class="space-y-16">
                <div class="flex items-start gap-8">
                    <div class="flex-shrink-0 w-14 h-14 bg-charcoal-900 flex items-center justify-center font-serif text-2xl font-800 text-amber-500">1</div>
                    <div>
                        <h3 class="text-xl font-600 mb-2 text-charcoal-900">Paste your text</h3>
                        <p class="text-charcoal-600 leading-relaxed">Essay, blog post, email, report — anything you've written or edited with AI.</p>
                    </div>
                </div>
                <div class="flex items-start gap-8">
                    <div class="flex-shrink-0 w-14 h-14 bg-charcoal-900 flex items-center justify-center font-serif text-2xl font-800 text-amber-500">2</div>
                    <div>
                        <h3 class="text-xl font-600 mb-2 text-charcoal-900">See what's flagged</h3>
                        <p class="text-charcoal-600 leading-relaxed">We scan for 16 different AI patterns and show you every phrase that triggered detection.</p>
                    </div>
                </div>
                <div class="flex items-start gap-8">
                    <div class="flex-shrink-0 w-14 h-14 bg-charcoal-900 flex items-center justify-center font-serif text-2xl font-800 text-amber-500">3</div>
                    <div>
                        <h3 class="text-xl font-600 mb-2 text-charcoal-900">Fix it yourself</h3>
                        <p class="text-charcoal-600 leading-relaxed">Use our suggestions to rewrite problem areas. Keep your voice, remove the robotic tells.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pro / Waitlist -->
    <section class="py-24 px-6 bg-charcoal-900 grain">
        <div class="max-w-4xl mx-auto">
            <div class="border border-amber-500/30 rounded p-10 md:p-16">
                <p class="text-amber-500 font-600 text-sm tracking-widest uppercase mb-4">Coming Soon</p>
                <h2 class="font-serif text-3xl md:text-4xl font-700 text-cream-50 mb-4">Automatic rewrites.</h2>
                <p class="text-cream-200/60 text-lg mb-8 max-w-xl">ClearPen Pro takes your flagged text and rewrites it to pass AI detectors. One click.</p>
                
                <button id="proButton" onclick="openPricingModal()" class="inline-block px-8 py-4 bg-amber-500 text-charcoal-900 rounded font-700 hover:bg-amber-600 transition-colors text-lg" style="cursor: pointer; -webkit-tap-highlight-color: rgba(0,0,0,0); touch-action: manipulation;">
                    Upgrade to Pro
                </button>
            </div>
        </div>
    </section>

    <!-- FAQ -->
    <section class="py-24 px-6">
        <div class="max-w-3xl mx-auto">
            <p class="text-amber-600 font-600 text-sm tracking-widest uppercase mb-4">FAQ</p>
            <h2 class="font-serif text-3xl md:text-4xl font-700 text-charcoal-900 mb-16">Questions people ask.</h2>
            
            <div class="space-y-0 divide-y divide-charcoal-800/10">
                <div class="py-8">
                    <h3 class="font-600 text-charcoal-900 mb-3">Does this work for all AI detectors?</h3>
                    <p class="text-charcoal-600 leading-relaxed">ClearPen identifies common patterns that most AI detectors flag. Our 16 categories cover the major tells across GPTZero, Turnitin, Originality.ai, and others.</p>
                </div>
                <div class="py-8">
                    <h3 class="font-600 text-charcoal-900 mb-3">Do you store my text?</h3>
                    <p class="text-charcoal-600 leading-relaxed">No. Everything runs in your browser. We never see or store your content.</p>
                </div>
                <div class="py-8">
                    <h3 class="font-600 text-charcoal-900 mb-3">How accurate is this?</h3>
                    <p class="text-charcoal-600 leading-relaxed">We identify specific patterns known to trigger AI detectors. The tool shows you exactly what to fix, giving you control over the final result.</p>
                </div>
                <div class="py-8">
                    <h3 class="font-600 text-charcoal-900 mb-3">Is it really free?</h3>
                    <p class="text-charcoal-600 leading-relaxed">The detector is free forever. No limits, no signups. ClearPen Pro (automatic rewrites) will be a paid product when it launches.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Final CTA -->
    <section class="py-24 px-6 bg-cream-100 border-t border-charcoal-800/5">
        <div class="max-w-3xl mx-auto text-center">
            <h2 class="font-serif text-3xl md:text-5xl font-700 text-charcoal-900 mb-4">Your writing, more human.</h2>
            <p class="text-xl text-charcoal-600 mb-10">That's the whole point.</p>
            <a href="#tool" class="inline-block px-8 py-4 bg-charcoal-900 text-cream-50 font-700 rounded hover:bg-charcoal-700 transition-colors text-lg">
                Try It Free
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-8 px-6 border-t border-charcoal-800/5">
        <div class="max-w-6xl mx-auto text-center text-charcoal-600/50 text-sm">
            <p>&copy; 2026 ClearPen</p>
        </div>
    </footer>

    <!-- Pricing Modal -->
    <div id="pricingModal" class="fixed inset-0 z-[100] hidden items-center justify-center bg-charcoal-900/90 backdrop-blur-sm px-4">
        <div class="relative bg-cream-50 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl">
            <!-- Close Button -->
            <button id="closeModalButton" onclick="closePricingModal()" class="absolute top-6 right-6 text-charcoal-600 hover:text-charcoal-900 transition-colors z-10" style="cursor: pointer; -webkit-tap-highlight-color: rgba(0,0,0,0); touch-action: manipulation;">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>

            <!-- Modal Content -->
            <div class="p-8 md:p-12">
                <!-- Header -->
                <div class="text-center mb-10">
                    <p class="text-amber-600 font-600 text-sm tracking-widest uppercase mb-3">ClearPen Pro</p>
                    <h2 class="font-serif text-3xl md:text-4xl font-700 text-charcoal-900 mb-3">Automatic AI Rewrites</h2>
                    <p class="text-charcoal-600 text-lg max-w-2xl mx-auto">Click a button. Get humanized text. No more manual editing.</p>
                </div>

                <!-- Pricing Cards -->
                <div class="grid md:grid-cols-3 gap-6 mb-8">
                    <!-- Monthly Plan -->
                    <div class="border-2 border-charcoal-800/10 rounded-lg p-8 hover:border-amber-500/50 transition-all flex flex-col">
                        <div class="flex-grow">
                            <div class="text-center mb-6">
                                <div class="text-charcoal-600 text-sm font-600 uppercase tracking-wide mb-2">Monthly</div>
                                <div class="font-serif text-5xl font-800 text-charcoal-900 mb-1">$4.99</div>
                                <div class="text-charcoal-600 text-sm">per month</div>
                            </div>
                            <ul class="space-y-3 mb-8">
                                <li class="flex items-start gap-3">
                                    <svg class="w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span class="text-charcoal-600">Unlimited rewrites</span>
                                </li>
                                <li class="flex items-start gap-3">
                                    <svg class="w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span class="text-charcoal-600">Advanced humanization</span>
                                </li>
                                <li class="flex items-start gap-3">
                                    <svg class="w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span class="text-charcoal-600">Export options</span>
                                </li>
                                <li class="flex items-start gap-3">
                                    <svg class="w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span class="text-charcoal-600">Cancel anytime</span>
                                </li>
                            </ul>
                        </div>
                        <a href="https://buy.stripe.com/bJefZhgDC5Ej3dP8wEfUQ02" target="_blank" class="block w-full text-center px-6 py-3 bg-charcoal-900 text-cream-50 font-700 rounded hover:bg-charcoal-700 transition-colors">
                            Choose Monthly
                        </a>
                    </div>

                    <!-- Annual Plan (Best Value) -->
                    <div class="border-2 border-amber-500 rounded-lg p-8 relative shadow-lg flex flex-col">
                        <div class="absolute -top-3 left-1/2 -translate-x-1/2 bg-amber-500 text-charcoal-900 px-4 py-1 rounded-full text-xs font-700 uppercase tracking-wide">
                            Best Value
                        </div>
                        <div class="flex-grow">
                            <div class="text-center mb-6">
                                <div class="text-charcoal-600 text-sm font-600 uppercase tracking-wide mb-2">Annual</div>
                                <div class="font-serif text-5xl font-800 text-charcoal-900 mb-1">$49.99</div>
                                <div class="text-charcoal-600 text-sm">per year <span class="text-amber-600 font-600">(Save 17%)</span></div>
                            </div>
                            <ul class="space-y-3 mb-8">
                                <li class="flex items-start gap-3">
                                    <svg class="w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span class="text-charcoal-600">Unlimited rewrites</span>
                                </li>
                                <li class="flex items-start gap-3">
                                    <svg class="w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span class="text-charcoal-600">Advanced humanization</span>
                                </li>
                                <li class="flex items-start gap-3">
                                    <svg class="w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span class="text-charcoal-600">Export options</span>
                                </li>
                                <li class="flex items-start gap-3">
                                    <svg class="w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span class="text-charcoal-600">Priority support</span>
                                </li>
                                <li class="flex items-start gap-3">
                                    <svg class="w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span class="text-charcoal-600">Early access to features</span>
                                </li>
                            </ul>
                        </div>
                        <a href="https://buy.stripe.com/4gM5kD2MM1o3bKlaEMfUQ03" target="_blank" class="block w-full text-center px-6 py-3 bg-amber-500 text-charcoal-900 font-700 rounded hover:bg-amber-600 transition-colors">
                            Choose Annual
                        </a>
                    </div>

                    <!-- Lifetime Plan (Special Offer) -->
                    <div class="border-2 border-forest-600 rounded-lg p-8 relative shadow-lg bg-gradient-to-br from-cream-50 to-cream-100 flex flex-col">
                        <div class="absolute -top-3 left-1/2 -translate-x-1/2 bg-forest-600 text-cream-50 px-4 py-1 rounded-full text-xs font-700 uppercase tracking-wide">
                            Special Offer
                        </div>
                        <div class="flex-grow">
                            <div class="text-center mb-6">
                                <div class="text-charcoal-600 text-sm font-600 uppercase tracking-wide mb-2">Lifetime</div>
                                <div class="font-serif text-5xl font-800 text-charcoal-900 mb-1">$99.99</div>
                                <div class="text-charcoal-600 text-sm">one-time payment</div>
                            </div>
                            <ul class="space-y-3 mb-8">
                                <li class="flex items-start gap-3">
                                    <svg class="w-5 h-5 text-forest-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span class="text-charcoal-600"><strong>Lifetime</strong> unlimited rewrites</span>
                                </li>
                                <li class="flex items-start gap-3">
                                    <svg class="w-5 h-5 text-forest-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span class="text-charcoal-600">Advanced humanization</span>
                                </li>
                                <li class="flex items-start gap-3">
                                    <svg class="w-5 h-5 text-forest-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span class="text-charcoal-600">Export options</span>
                                </li>
                                <li class="flex items-start gap-3">
                                    <svg class="w-5 h-5 text-forest-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span class="text-charcoal-600">Priority support</span>
                                </li>
                                <li class="flex items-start gap-3">
                                    <svg class="w-5 h-5 text-forest-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span class="text-charcoal-600">All future features</span>
                                </li>
                                <li class="flex items-start gap-3">
                                    <svg class="w-5 h-5 text-forest-600 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                    <span class="text-charcoal-600"><strong>No recurring fees</strong></span>
                                </li>
                            </ul>
                        </div>
                        <a href="https://buy.stripe.com/14AdR94UU4Af4hTfZ6fUQ04" target="_blank" class="block w-full text-center px-6 py-3 bg-forest-600 text-cream-50 font-700 rounded hover:bg-forest-700 transition-colors">
                            Get Lifetime Access
                        </a>
                    </div>
                </div>

                <!-- Trust Signals -->
                <div class="text-center pt-6 border-t border-charcoal-800/10">
                    <p class="text-sm text-charcoal-600">
                        <svg class="w-4 h-4 inline mr-1 text-amber-500" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path>
                        </svg>
                        Secure payment via Stripe • Cancel anytime • 30-day money-back guarantee
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
    const PATTERNS={"significance_inflation":["stands as","serves as","is a testament","is a reminder","vital role","significant role","crucial role","pivotal role","key role","pivotal moment","key moment","key turning point","underscores its importance","highlights its importance","underscores its significance","highlights its significance","reflects broader","symbolizing its ongoing","symbolizing its enduring","symbolizing its lasting","contributing to the","setting the stage for","marking the","shaping the","represents a shift","marks a shift","evolving landscape","focal point","indelible mark","deeply rooted","enduring legacy","rich tapestry","broader movement"],"notability_emphasis":["independent coverage","local media outlets","regional media outlets","national media outlets","music outlets","business outlets","tech outlets","profiled in","written by a leading expert","active social media presence","has been featured in","has been cited in","maintains a strong digital presence"],"superficial_analysis":["highlighting","underscoring","emphasizing","ensuring","reflecting","symbolizing","contributing to","cultivating","fostering","encompassing","showcasing","valuable insights","align with","aligns with","resonate with","resonates with"],"promotional_language":["boasts a","boasts an","vibrant","rich cultural heritage","profound","enhancing its","exemplifies","commitment to","natural beauty","nestled","in the heart of","groundbreaking","renowned","breathtaking","must-visit","stunning","bustling","thriving","world-class","cutting-edge","state-of-the-art","unparalleled","innovative","diverse range","wide range","comprehensive range","unique blend","perfect blend","seamless blend","delve into","delve","tapestry","multifaceted","intricacies","holistic","synergy","paradigm","robust","leverage","utilizes","facilitates","pivotal","nuanced","noteworthy"],"vague_attributions":["according to many","observers note","experts say","according to experts","many believe","widely regarded","it is widely","it is generally","is often considered","is often regarded","is often seen","analysts suggest","critics argue","some scholars","many scholars","historians note","researchers suggest","studies show","studies have shown","research shows","research has shown","some argue","others argue","many argue"],"challenges_formula":["despite.*challenges","faces.*challenges","despite.*obstacles","despite.*criticism","although.*criticized","while.*controversial","not without.*controversy","remains.*controversial","has faced.*scrutiny","has drawn.*criticism","despite these challenges","despite facing","despite the challenges"],"ai_vocabulary":["delve","tapestry","multifaceted","intricacies","holistic","synergy","paradigm","robust","leverage","utilizes","facilitates","pivotal","nuanced","noteworthy","landscape","realm","crucial","moreover","furthermore","additionally","consequently","harnessing","underscores","underscored","navigating","navigate","spearheading","bolstering","underpinning","interwoven","interplay","commendable","intricate","comprehensive","pivotal","arguably"],"chatbot_artifacts":["as an AI","as a language model","I cannot","I can't provide","I don't have access","I'm not able to","I must clarify","it's important to note","it's worth noting","it is important to note","it is worth noting","I should mention","let me clarify","I want to emphasize","I'd be happy to","certainly!","absolutely!","great question","that's a great","sure thing"],"hedging_phrases":["it's important to","it is important to","it's worth","it is worth","it should be noted","it remains to be seen","only time will tell","the future will tell","time will tell"],"negative_parallelisms":["not just.*but also","not only.*but also","not merely.*but also","isn't just.*it's also"],"rule_of_three_patterns":["\\w+, \\w+, and \\w+","innovation, creativity, and","culture, history, and","social, economic, and","political, economic, and","environmental, social, and"],"markdown_artifacts":["##","**","***","- **","1. **"],"citation_bugs":["citation needed","\\[\\d+\\]","according to Wikipedia"],"knowledge_cutoff":["as of my last","as of my knowledge","as of my training","my training data","I was trained","my knowledge cutoff"],"copula_avoidance":{"stands as":"is","serves as":"is","remains as":"is","acts as":"is","functions as":"is","operates as":"is","exists as":"is"},"filler_replacements":{"plays a vital role in":"matters for","plays a crucial role in":"matters for","plays a significant role in":"matters for","plays an important role in":"matters for","in today's world":"now/today","in the modern era":"now/today","it's important to note that":"(remove)","it is worth noting that":"(remove)","at the end of the day":"ultimately","when it comes to":"for/about","in terms of":"for/about","on the other hand":"but/however","as a matter of fact":"in fact","due to the fact that":"because","in order to":"to","a wide range of":"many/various","the fact that":"that","take into account":"consider","make a decision":"decide"}};

    const input=document.getElementById('input');
    const wc=document.getElementById('wordCount');
    input.addEventListener('input',()=>{const w=input.value.trim()?input.value.trim().split(/\s+/).length:0;wc.textContent=w+' word'+(w!==1?'s':'')});

    function findMatches(text,patterns){const matches=[];const lower=text.toLowerCase();if(Array.isArray(patterns)){patterns.forEach(p=>{let count=0,idx=lower.indexOf(p.toLowerCase()),pi=0;while(idx!==-1&&pi<100){count++;idx=lower.indexOf(p.toLowerCase(),idx+1);pi++}if(count>0)matches.push([p,count])})}else{Object.keys(patterns).forEach(p=>{let count=0,idx=lower.indexOf(p.toLowerCase()),pi=0;while(idx!==-1&&pi<100){count++;idx=lower.indexOf(p.toLowerCase(),idx+1);pi++}if(count>0)matches.push([p,count])})}return matches.sort((a,b)=>b[1]-a[1])}

    function analyze(){
    const text=input.value.trim();
    
    
    // FREE TIER LIMITS
    const FREE_WORD_LIMIT = 500;
    const FREE_DAILY_CHECKS = 5;
    
    // Check word limit
    const wordCount = text.split(/\s+/).length;
    if (wordCount > FREE_WORD_LIMIT) {
        showUpgradeModal('word-limit', wordCount);
        return;
    }
    
    // Check daily usage
    const today = new Date().toDateString();
    const usage = JSON.parse(localStorage.getItem('clearpen_usage') || '{}');
    if (!usage[today]) usage[today] = 0;
    Object.keys(usage).forEach(date => { if (date !== today) delete usage[date]; });
    
    if (usage[today] >= FREE_DAILY_CHECKS) {
        showUpgradeModal('daily-limit', wordCount);
        return;
    }
    
    usage[today]++;
    localStorage.setItem('clearpen_usage', JSON.stringify(usage));
if(!text||text.split(/\s+/).length<10){alert('Please paste at least 10 words.');return}
    const r={};
    r.significance_inflation=findMatches(text,PATTERNS.significance_inflation);
    r.notability_emphasis=findMatches(text,PATTERNS.notability_emphasis);
    r.superficial_analysis=findMatches(text,PATTERNS.superficial_analysis);
    r.promotional_language=findMatches(text,PATTERNS.promotional_language);
    r.vague_attributions=findMatches(text,PATTERNS.vague_attributions);
    r.ai_vocabulary=findMatches(text,PATTERNS.ai_vocabulary);
    r.copula_avoidance=findMatches(text,PATTERNS.copula_avoidance);
    r.filler_phrases=findMatches(text,PATTERNS.filler_replacements);
    r.chatbot_artifacts=findMatches(text,PATTERNS.chatbot_artifacts);
    r.hedging_phrases=findMatches(text,PATTERNS.hedging_phrases);
    r.negative_parallelisms=findMatches(text,PATTERNS.negative_parallelisms);
    r.markdown_artifacts=findMatches(text,PATTERNS.markdown_artifacts);
    r.citation_bugs=findMatches(text,PATTERNS.citation_bugs);
    r.knowledge_cutoff=findMatches(text,PATTERNS.knowledge_cutoff);
    const curly=(text.match(/[\u201C\u201D\u2018\u2019]/g)||[]).length;
    const em=(text.match(/\u2014/g)||[]).length+((text.match(/ -- /g)||[]).length);

    let total=0;
    const sum=a=>a.reduce((s,x)=>s+x[1],0);
    total+=sum(r.significance_inflation)+sum(r.notability_emphasis)+sum(r.superficial_analysis)+sum(r.promotional_language)+sum(r.vague_attributions)+sum(r.ai_vocabulary)+sum(r.copula_avoidance)+sum(r.filler_phrases)+sum(r.chatbot_artifacts)*3+sum(r.hedging_phrases)+sum(r.negative_parallelisms)+sum(r.markdown_artifacts)*2+sum(r.citation_bugs)*5+sum(r.knowledge_cutoff)*3+(curly>2?curly:0)+(em>3?em:0);

    const words=text.split(/\s+/).length;
    const density=total/Math.max(words,1)*100;
    let level='low';
    if(r.citation_bugs.length||r.knowledge_cutoff.length||r.chatbot_artifacts.length)level='very-high';
    else if(density>5||total>30)level='high';
    else if(density>2||total>15)level='medium';

    const labels={'low':'Low Risk','medium':'Medium Risk','high':'High Risk','very-high':'Very High Risk'};
    const colors={'low':'#10b981','medium':'#d4a017','high':'#f97316','very-high':'#ef4444'};
    const pcts={'low':15,'medium':45,'high':75,'very-high':95};

    const badge=document.getElementById('scoreBadge');
    badge.textContent=labels[level];
    badge.style.color=colors[level];
    const fill=document.getElementById('meterFill');
    fill.style.width=pcts[level]+'%';
    fill.style.background=colors[level];
    document.getElementById('issueCount').textContent=total+' AI pattern'+(total!==1?'s':'')+' found in '+words+' words (density: '+density.toFixed(1)+'%)';

    const cats=[
    ['Promotional / Inflated Language','promotional_language'],
    ['AI Vocabulary','ai_vocabulary'],
    ['Superficial Analysis Words','superficial_analysis'],
    ['Significance Inflation','significance_inflation'],
    ['Filler Phrases','filler_phrases'],
    ['Hedging Phrases','hedging_phrases'],
    ['Chatbot Artifacts','chatbot_artifacts'],
    ['Vague Attributions','vague_attributions'],
    ['Copula Avoidance','copula_avoidance'],
    ['Negative Parallelisms','negative_parallelisms'],
    ];
    let html='';
    cats.forEach(([title,key])=>{
    if(r[key]&&r[key].length){
    html+='<div class="bg-charcoal-700 border border-charcoal-600 rounded p-6"><div class="text-sm font-600 mb-3 text-cream-100">'+title+'</div><div class="flex flex-wrap gap-2">';
    r[key].forEach(([pat,cnt])=>{html+='<span class="bg-charcoal-800 border border-charcoal-600 px-3 py-1 rounded text-xs text-cream-200/80">'+pat+'<span class="text-amber-500 font-700 ml-1">&times;'+cnt+'</span></span>'});
    html+='</div></div>';
    }});
    if(curly>2)html+='<div class="bg-charcoal-700 border border-charcoal-600 rounded p-6"><div class="text-sm font-600 mb-3 text-cream-100">Curly Quotes (AI typographic style)</div><div class="flex flex-wrap gap-2"><span class="bg-charcoal-800 border border-charcoal-600 px-3 py-1 rounded text-xs text-cream-200/80">curly quotes<span class="text-amber-500 font-700 ml-1">&times;'+curly+'</span></span></div></div>';
    if(em>3)html+='<div class="bg-charcoal-700 border border-charcoal-600 rounded p-6"><div class="text-sm font-600 mb-3 text-cream-100">Excessive Em Dashes</div><div class="flex flex-wrap gap-2"><span class="bg-charcoal-800 border border-charcoal-600 px-3 py-1 rounded text-xs text-cream-200/80">em dashes<span class="text-amber-500 font-700 ml-1">&times;'+em+'</span></span></div></div>';
    document.getElementById('details').innerHTML=html;

    const tips=[];
    if(r.ai_vocabulary.length)tips.push('<b class="text-cream-50">Replace AI buzzwords</b> like "'+r.ai_vocabulary.slice(0,3).map(x=>x[0]).join('", "')+'" with simpler, everyday words.');
    if(r.promotional_language.length)tips.push('<b class="text-cream-50">Tone down hype words</b> like "'+r.promotional_language.slice(0,3).map(x=>x[0]).join('", "')+'".');
    if(r.filler_phrases.length)tips.push('<b class="text-cream-50">Cut filler phrases</b> like "'+r.filler_phrases.slice(0,2).map(x=>x[0]).join('", "')+'" — say it directly.');
    if(r.hedging_phrases.length)tips.push('<b class="text-cream-50">Remove hedging</b> — be direct instead of saying "it\'s important to note."');
    if(r.chatbot_artifacts.length)tips.push('<b class="text-cream-50">Remove chatbot phrases</b> like "'+r.chatbot_artifacts.slice(0,2).map(x=>x[0]).join('\", \"')+'".');
    if(r.superficial_analysis.length)tips.push('<b class="text-cream-50">Use specific verbs</b> instead of vague ones like "highlighting" or "showcasing."');
    if(curly>2)tips.push('<b class="text-cream-50">Replace curly quotes</b> with straight quotes — AI models use curly by default.');
    if(em>3)tips.push('<b class="text-cream-50">Use fewer em dashes</b> — AI overuses them. Try commas or periods instead.');
    if(!tips.length)tips.push('<b class="text-cream-50">Looking good!</b> Your text has minimal AI patterns.');
    document.getElementById('tips').innerHTML=tips.map(t=>'<div class="text-cream-200/60 pb-3 border-b border-charcoal-600 last:border-0 text-sm leading-relaxed">'+t+'</div>').join('');

    document.getElementById('results').classList.remove('hidden');
    document.getElementById('results').scrollIntoView({behavior:'smooth',block:'nearest'});
    }

    // Modal functions - explicitly global for onclick compatibility
    window.openPricingModal = function() {
        const modal = document.getElementById('pricingModal');
        modal.classList.remove('hidden');
        modal.classList.add('flex');
        document.body.style.overflow = 'hidden';
    };

    window.closePricingModal = function() {
        const modal = document.getElementById('pricingModal');
        modal.classList.add('hidden');
        modal.classList.remove('flex');
        document.body.style.overflow = 'auto';
    };

    // Add event listener to Pro button for iOS compatibility
    const proButton = document.getElementById('proButton');
    if (proButton) {
        proButton.addEventListener('click', function(e) {
            e.preventDefault();
            openPricingModal();
        });
        // Also handle touch events for iOS Safari
        proButton.addEventListener('touchend', function(e) {
            e.preventDefault();
            openPricingModal();
        });
    }

    // Add event listener to close button for iOS compatibility
    const closeButton = document.getElementById('closeModalButton');
    if (closeButton) {
        closeButton.addEventListener('click', function(e) {
            e.preventDefault();
            closePricingModal();
        });
        closeButton.addEventListener('touchend', function(e) {
            e.preventDefault();
            closePricingModal();
        });
    }

    // Close modal on background click
    document.getElementById('pricingModal').addEventListener('click', function(e) {
        if (e.target === this) {
            closePricingModal();
        }
    });

    // Close modal on Escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closePricingModal();
        }
    });
    
    
    function showUpgradeModal(reason, wordCount) {
        const messages = {
            'word-limit': `
                <h3 class="font-serif text-2xl font-700 text-cream-50 mb-4">Text too long for free tier</h3>
                <p class="text-cream-200/70 mb-6">Free users can analyze up to 500 words. Your text has ${wordCount} words.</p>
                <p class="text-cream-200/70 mb-8">Upgrade to Pro for unlimited text length, one-click humanization, and more.</p>
            `,
            'daily-limit': `
                <h3 class="font-serif text-2xl font-700 text-cream-50 mb-4">Daily limit reached</h3>
                <p class="text-cream-200/70 mb-6">Free users get 5 checks per day. You've used all yours!</p>
                <p class="text-cream-200/70 mb-8">Upgrade to Pro for unlimited daily checks, advanced features, and more.</p>
            `
        };
        
        const modal = document.createElement('div');
        modal.className = 'fixed inset-0 bg-charcoal-900/90 backdrop-blur-sm flex items-center justify-center z-50 px-6';
        modal.innerHTML = `
            <div class="bg-charcoal-800 border border-charcoal-600 rounded-lg p-8 max-w-md w-full">
                ${messages[reason]}
                <button onclick="openPricingModal(); this.closest('div.fixed').remove()" class="w-full px-6 py-3 bg-amber-500 text-charcoal-900 font-700 rounded hover:bg-amber-600 transition-colors mb-3">
                    View Pro Plans
                </button>
                <button onclick="this.closest('div.fixed').remove()" class="w-full px-6 py-3 bg-charcoal-700 text-cream-200 font-600 rounded hover:bg-charcoal-600 transition-colors">
                    Maybe Later
                </button>
            </div>
        `;
        document.body.appendChild(modal);
    }
</script>
</body>
</html>
